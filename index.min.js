jQuery(function(e){var t,i,n,a;return i=function(){var i;return i=new RegExp("/wiki/([^&]*)","i").exec(location.hash),null!=i?(e("#s").val(i[1].replace(new RegExp("_","g")," ")),t(i[1],!0)):void 0},n=function(e,t){return jQuery.getJSON(a+"w/api.php?callback=?",{format:"json",action:"opensearch",search:e,suggest:!0,limit:100},function(e){return t(e[1])})},t=function(t,i){return e("base").attr("href",a+"wiki/"+t),e("#content").hide().empty(),e("#loading").show(),i||(location.hash="/wiki/"+t),e.getJSON(a+"w/api.php?callback=?",{action:"mobileview",format:"json",page:t,sections:"all"},function(i){var n,a;return a=null!=i.mobileview.normalizedtitle?i.mobileview.normalizedtitle:t,n="",n+='<h1 class="page-header">'+a+"</h1>\n",i=i.mobileview.sections,e.each(i,function(e,t){return e*=1,1===t.toclevel?(1!==e&&(n+="</details>"),n+='<details id="'+t.line+'" class="panel panel-default">\n<summary class="panel-heading"><span class="panel-title">'+t.line+'</span></summary>\n<div class="panel-body>"'+t.text.replace('class="','class="hide ')+"</div>\n"):n+=t.text+"\n"}),n+="</details>",e("#content").html(n),e("#content, #loading").toggle(),e.fn.details.support?void 0:e("details").details()})},null==localStorage.wikiURL&&(localStorage.wikiURL="http://en.wikipedia.org/"),a=localStorage.wikiURL,i(),e("#back").click(function(){return history.back(),i(),!1}),e("#forward").click(function(){return history.forward(),i(),!1}),e("#newTab").click(function(t){return window.open(a+"wiki/"+e("#s").val(),"_newtab"),t.preventDefault()}),e("#s").keypress(function(){return e("#s").typeahead({source:n,items:10})}),e("#content").on("click","a[href^='/wiki/'], a[href^='"+a+"wiki/'], a[href^='"+a.replace("https:","http:")+"wiki/']",function(i){var n,a;return n=this.href.split("/"),a=decodeURIComponent(n[n.length-1]),""===a&&(a=decodeURIComponent(n[n.length-2])),e("#s").val(a.replace(new RegExp("_","g")," ")),t(a),i.preventDefault()}),e("#content").on("click","a:not(a[href^='/wiki/'], a[href^='"+a+"wiki/'], a[href^='"+a.replace("https:","http:")+"wiki/'], a[href='options.html'])",function(e){return window.open(this.href,"_newtab"),e.preventDefault()}),e("a[href='options.html']").click(function(){return e("base").attr("href","")}),e("#search").submit(function(i){return t(e("#s").val()),i.preventDefault()})});