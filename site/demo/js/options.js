function t(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function e(t){return t.match(/^http/)?t.replace(/^http:/,"https:"):`https://${t}`}function n(){return Math.floor(Date.now()/1e3)}function r(){const t=localStorage.getItem("settings");return t?JSON.parse(localStorage.getItem("settings")):(localStorage.setItem("settings",JSON.stringify(u)),u)}function i(t){return t.options[t.selectedIndex].getAttribute("value")}function o(t,e){for(let n=0;n<t.options.length;n+=1)if(t.options[n].value===e)return void(t.selectedIndex=n);o(t,"custom")}const u={theme:"custom",url:"https://en.wikipedia.org/",timestamp:n()},l=r();t("#back").addEventListener("click",t=>{t.preventDefault(),history.back()}),t("#forward").addEventListener("click",t=>{t.preventDefault(),history.forward()}),t("form",t("#content")).addEventListener("submit",r=>{r.preventDefault();let o=e(t("#url").value);const u=i(t("#theme"));"/"!==o[o.length-1]&&(o+="/"),""===o&&(o="https://en.wikipedia.org/"),localStorage.setItem("settings",JSON.stringify({url:o,theme:u,timestamp:n})),location.replace("app.html")}),t("#theme").addEventListener("change",()=>{t("link").setAttribute("href",`bootswatch/${i(t("#theme"))}/style.css`)}),t("#url").setAttribute("value",l.url),o(t("#theme"),l.theme),t("link").setAttribute("href",`bootswatch/${l.theme}/style.css`),t("#url").addEventListener("blur",n=>{t("#url").value=e(n.target.value)});