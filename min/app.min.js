jQuery(function(e){"use strict";var t,n,a,r;return a=JSON.parse(decodeURIComponent(location.search.substring(1,location.search.length))),e("link").attr("href","bootswatch/"+a.theme+"/bootstrap.min.css"),n=function(){var n;return n=location.hash.substring(7,location.hash.length),""!==n?(e("#search").val(decodeURIComponent(n)),t(n,!0)):void 0},r=function(e,t){return jQuery.getJSON(a.url+"w/api.php?callback=?",{format:"json",action:"opensearch",search:e,suggest:!0,limit:100},function(e){return t(e[1])})},t=function(t,n){var r;return e("base").attr("href",""+a.url+"wiki/"+t),e("#content").fadeOut().empty(),e("#loading").fadeIn(),e("body").addClass("loading"),n||(location.hash="/wiki/"+t),r={action:"mobileview",format:"json",page:t,sections:"all"},e.getJSON(a.url+"w/api.php?callback=?",r,function(n){var a,r;return n.error?e("#content").html('<div class="alert alert-danger">'+n.error.info+"</div>"):(r=n.mobileview.normalizedtitle||t.replace(/_/g," "),e("#search").val(r),a="",a+='<h1 class="page-header">'+r+"</h1>\n",n=n.mobileview.sections,e.each(n,function(e,t){return e*=1,1===t.toclevel?(1!==e&&(a+="</details>"),a+='<details id=" '+t.line+' " class="panel panel-default">            				<summary class="panel-heading"><span class="panel-title">'+t.line+'</span></summary>          				<div class="panel-body">          					'+t.text.replace('class="','class="hide ')+"          				</div>"):a+=t.text+"\n"}),a+="</details>",e("#content").html(a),e("#content img").lazyload({effect:"fadeIn"})),e("table *").removeAttr("style"),e("#loading").fadeOut(),e("#content").fadeIn(),e("body").removeClass("loading"),e.fn.details.support?void 0:e("details").details()})},n(),e("#back").click(function(){return history.back(),n(),!1}),e("#forward").click(function(){return history.forward(),n(),!1}),e("#newTab").click(function(t){return window.open(a.url+"wiki/"+e("#search").val(),"_newtab"),t.preventDefault()}),e("#search").keypress(function(){return e("#search").typeahead({source:r,items:10})}),e("#content").on("click","a[href^='/wiki/'], a[href^='"+a.url+"wiki/'], a[href^='"+a.url.replace("https:","http:")+"wiki/']",function(n){var a,r;return a=this.href.split("/"),r=decodeURIComponent(a[a.length-1]),""===r&&(r=decodeURIComponent(a[a.length-2])),e("#search").val(r),t(r),n.preventDefault()}),e("#content").on("click","a:not(a[href^='/wiki/'], a[href^='"+a.url+"wiki/'], a[href^='"+a.url.replace("https:","http:")+"wiki/'], a[href='options.html'])",function(e){return window.open(this.href,"_newtab"),e.preventDefault()}),e("a[href='options.html']").click(function(){return e("base").attr("href","")}),e("#search-form").submit(function(n){return t(e("#search").val()),n.preventDefault()})});