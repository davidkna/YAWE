function t(t){const[e,n]=t.split("=").map(decodeURIComponent);return{key:e,value:n}}function e(t,e){const n=encodeURIComponent(t),r=decodeURIComponent(e);return{key:n,value:r}}function n(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function r(t){return t.match(/^http/)?t.replace(/^http:/,"https:"):`https://${t}`}function o(){return Math.floor(Date.now()/1e3)}function i(){const t=localStorage.getItem("settings");return t?JSON.parse(localStorage.getItem("settings")):(localStorage.setItem("settings",JSON.stringify(a)),a)}function u(t){return t.options[t.selectedIndex].getAttribute("value")}function l(t,e){for(let n=0;n<t.options.length;n+=1)if(t.options[n].value===e)return void(t.selectedIndex=n);l(t,"custom")}const a={theme:"custom",url:"https://en.wikipedia.org/",timestamp:o()},c=i();n("#back").addEventListener("click",t=>{t.preventDefault(),history.back()}),n("#forward").addEventListener("click",t=>{t.preventDefault(),history.forward()}),n("form",n("#content")).addEventListener("submit",t=>{t.preventDefault();let e=r(n("#url").value);const i=u(n("#theme"));"/"!==e[e.length-1]&&(e+="/"),""===e&&(e="https://en.wikipedia.org/"),localStorage.setItem("settings",JSON.stringify({url:e,theme:i,timestamp:o})),location.replace("app.html")}),n("#theme").addEventListener("change",()=>{n("link").setAttribute("href",`bootswatch/${u(n("#theme"))}/style.css`)}),n("#url").setAttribute("value",c.url),l(n("#theme"),c.theme),n("link").setAttribute("href",`bootswatch/${c.theme}/style.css`),n("#url").addEventListener("blur",t=>{n("#url").value=r(t.target.value)});
