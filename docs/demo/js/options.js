function t(t,e=document){return e.querySelector(t)}function e(t){return t.match(/^http/)?t.replace(/^http:/,"https:"):`https://${t}`}function n(){const t=localStorage.getItem("settings");if(!t)return localStorage.setItem("settings",JSON.stringify(a)),a;const e=JSON.parse(t);return o.includes(e.theme)||(e.theme=a.theme,localStorage.setItem("settings",JSON.stringify(e))),e}function r(t){return t.options[t.selectedIndex].getAttribute("value")}function i(t,e){for(let n=0;n<t.options.length;n+=1)if(t.options[n].value===e)return void(t.selectedIndex=n);i(t,"custom")}const a={theme:"custom",url:"https://en.wikipedia.org/"},o=["cerulean","cosmo","custom","cyborg","darkly","flatly","journal","litera","lumen","lux","materia","minty","pulse","sandstone","simplex","slate","solar","spacelab","superhero","united","yeti"],s=n();t("#back").addEventListener("click",t=>{t.preventDefault();history.back()}),t("#forward").addEventListener("click",t=>{t.preventDefault();history.forward()}),t(".dropdown").addEventListener("click",t=>{t.preventDefault();t.target.parentNode.classList.toggle("show");const e=!!t.target.getAttribute("aria-expanded");t.target.setAttribute("aria-expanded",""+!e);t.target.classList.toggle("active")}),t("form",t("#content")).addEventListener("submit",n=>{n.preventDefault();let i=e(t("#url").value);const a=r(t("#theme"));"/"!==i[i.length-1]&&(i+="/");""===i&&(i="https://en.wikipedia.org/");localStorage.setItem("settings",JSON.stringify({url:i,theme:a}));location.replace("app.html")}),t("#theme").addEventListener("change",()=>{t("link").setAttribute("href",`themes/${r(t("#theme"))}/style.css`)}),t("#url").setAttribute("value",s.url),i(t("#theme"),s.theme),t("link").setAttribute("href",`themes/${s.theme}/style.css`),t("#url").addEventListener("blur",n=>{t("#url").value=e(n.target.value)}),t("#newTab").addEventListener("click",t=>{t.preventDefault();window.open(location.href,"_newtab")});
