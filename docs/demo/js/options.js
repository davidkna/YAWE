function e(e,t=document){return t.querySelector(e)}function t(e){return e.match(/^http/)?e.replace(/^http:/,"https:"):`https://${e}`}function r(e){return e.options[e.selectedIndex].getAttribute("value")}function n(e,t){for(let r=0;r<e.options.length;r+=1)if(e.options[r].value===t)return void(e.selectedIndex=r);n(e,"custom")}const s={theme:"custom",url:"https://en.wikipedia.org/"},a=["cerulean","cosmo","custom","cyborg","darkly","flatly","journal","litera","lumen","lux","materia","minty","pulse","sandstone","simplex","slate","solar","spacelab","superhero","united","yeti"],l=(()=>{const e=localStorage.getItem("settings");if(!e)return localStorage.setItem("settings",JSON.stringify(s)),s;const t=JSON.parse(e);return a.includes(t.theme)||(t.theme=s.theme,localStorage.setItem("settings",JSON.stringify(t))),t})();e("#back").addEventListener("click",e=>{e.preventDefault(),history.back()}),e("#forward").addEventListener("click",e=>{e.preventDefault(),history.forward()}),e(".dropdown").addEventListener("click",e=>{e.preventDefault(),e.target.parentNode.classList.toggle("show");const t=!!e.target.getAttribute("aria-expanded");e.target.setAttribute("aria-expanded",""+!t),e.target.classList.toggle("active")}),e("form",e("#content")).addEventListener("submit",n=>{n.preventDefault();let s=t(e("#url").value);const a=r(e("#theme"));"/"!==s[s.length-1]&&(s+="/"),""===s&&(s="https://en.wikipedia.org/"),localStorage.setItem("settings",JSON.stringify({url:s,theme:a})),location.replace("app.html")}),e("#theme").addEventListener("change",()=>{e("link").setAttribute("href",`themes/${r(e("#theme"))}/style.css`)}),e("#url").setAttribute("value",l.url),n(e("#theme"),l.theme),e("link").setAttribute("href",`themes/${l.theme}/style.css`),e("#url").addEventListener("blur",r=>{e("#url").value=t(r.target.value)}),e("#newTab").addEventListener("click",e=>{e.preventDefault(),window.open(location.href,"_newtab")});
